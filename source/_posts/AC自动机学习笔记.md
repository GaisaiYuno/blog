---
title: AC自动机学习笔记
abbrlink: 3693928b
date: 2020-02-13 11:46:04
tags:
  - AC自动机
---

AC 自动机 = KMP + Trie

<!-- more -->

## AC 自动机的定义

AC 自动机是一个关于若干模式串的 DFA （确定有限状态自动机），接受且仅接受以某个模式串作为后缀的字符串。

什么又是 DFA 呢？

一个 DFA 由以下部分组成：

1. 字符集 $\sum $ ，自动机只能输入这些字符，对于小写英文字符串，$\sum = \texttt{abcd...z}$，对于 01 字符串，$\sum = \texttt{01}$ 。
2. 状态集合 $Q$ ，如果我们把 DFA 看成一张图，$Q$ 就是图上所有节点组成的集合。
3. 起始状态 $start$ ，$start \in Q$ （注意$start$ 只有一个节点），就是开始的节点。
4. 接受状态集合 $F$ ，$F \subseteq Q$，是一些特殊的节点，当我们把字符串输入这个自动机，经过一系列的转移，最终达到这些节点，我们称这个字符串是可以接受的。
5. 转移函数 $\delta$ ，$\delta$ 是一个接受两个参数返回一个值的函数，第一个参数和返回值都是一个状态（节点），第二个参数是字符集里面 的一个字符，如果我们把 DFA 看成一张图，那么这个函数可以写成下列的形式 $\delta(u,c)=v$  ，其中 $u,v$ 都是节点，$c$ 是一个字符。

注意：下面我们用阴影代表 $F$ 中的节点。

Trie 树是一种简单的 DFA ，其形态是一棵树，比如说，一棵仅接受字符串 $\texttt{aa,ab,bb}$ 的 DFA 长成这样：

![](https://i.loli.net/2020/02/14/tcwZVi8OkBSXYH3.jpg)

我们再来构造一个仅能接受任意多的连续 1 组成的 01 字符串的 DFA ；

我们再来构造一个仅能接受含有 3 的倍数个 1 的 01 字符串的 DFA ：

![](https://i.loli.net/2020/02/14/5o4BwNitpZMObAW.jpg)



